<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <title>Order list</title>

    <style>
        div#navUpperDiv, div#navBottomDiv{
            margin: 20px;
        }

        main{
            margin: 20px;
        }
    </style>

</head>
</html>
<body>

<nav>
    <div class = "row" id="navUpperDiv">
        <div class = "col" align="center">
            <select class="form-select form-select-lg" name="providers" onchange="window.open('/orders?provider=' + value, '_self');">
                <option th:each="pr : ${providers}" th:value="${pr.id}" th:selected="${provider_id==pr.id}"><span th:text="${pr.name}"/></option>
            </select>
        </div>

        <div class = "col" align="center">
            <select class="form-select form-select-lg" name="orders" onchange="window.open('/orders/' + value, '_self');">
                <option th:value="${order_id}">Оберіть замовлення</option>
                <option th:value="'new_order?provider=' + ${provider_id}">Нове замовлення...</option>
                <option th:each="ordr : ${orders}" th:value="${ordr.id}" th:selected="${order_id==ordr.id}"><span th:text="'Замовлення №' + ${ordr.id}"/></option>
            </select>
        </div>
    </div>

    <hr class="m-auto" align="center" width="98%" >

    <div class = "row" id="navBottomDiv">
        <div class = "col" align="center">
            <div class="row" align="center">
                <div class = "col" align="center">
                    <p>Попереднє замовлення</p>
                    <input class="form-control" type="date" name="lowerDate">
                </div>
                <div class = "col" align="center">
                    <p>Поточне замовлення</p>
                    <input class="form-control" type="date" name="lowerDate">
                </div>
            </div>
        </div>

        <div class = "col" align="center">
            <div class="row">
                <div class="col btn-group" id="test" >
                    <button type="button" class="btn btn-info">Розрахувати залишки</button>
                </div>
                <div class="col">
                    <select class="form-select form-select-lg" name="providers">
                        <option value = "1">Усі товари</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <hr class="m-auto" align="center" width="98%" >
</nav>

<main>
    <div class="row">
        <div class="col-9">
            <table class="table">
                <thead>
                <tr>
                    <td>Найменування товару</td>
                    <td>Залишок</td>
                    <td>Замовлення</td>
                    <td>Повернення</td>
                    <td>Ціна</td>
                    <td>Сума</td>
                </tr>
                </thead>
                <tr th:each="order_product : ${order_products}">
                    <td><span th:text="${order_product.productObj.name}"></td>
                    <td><span th:text="${order_product.balance}"/></td>
                    <td><span th:text="${order_product.order}"/></td>
                    <td><span th:text="${order_product.retrn}"/></td>
                    <td><span th:text="${order_product.productObj.price}"></td>
                    <td><span th:text="${#numbers.formatDecimal((order_product.order * order_product.productObj.price), 1, 2, 'POINT')}"></td>
                </tr>
            </table>
        </div>

        <div class="col-3">
            <div class="d-grid gap-4 col-10 mx-auto">
                <a type="button" class="btn btn-success">Зберегти зміни</a>
                <a type="button" class="btn btn-warning">Скасувати зміни</a>
                <a type="button" class="btn btn-danger">Видалити заказ</a>
                <a type="button" class="btn btn-secondary" href="/orders/all" >Назад</a>
            </div>
        </div>
    </div>
</main>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>

